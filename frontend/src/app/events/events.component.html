<app-navbar></app-navbar>
<div class="container-fulid" style="min-height: 92vh;">
    <ul class="nav sticky-top bg-dark pt-1 px-sm-5" style="height: 8vh; top: 8vh;">
        <li class="nav-item">
          <a class="nav-link active text-warning" ><b>Upcoming</b></a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-warning" ><b>Completed</b></a>
        </li>
        <div *ngIf="role=='alumni'" style="margin-right: 10px; margin-left: auto; padding-top: 5px;" >
            <button class="btn btn-block btn-outline-warning"  data-bs-toggle="modal" data-bs-target="#exampleModal"><b>Request Events</b></button>
        </div>
        
    </ul>

<div class="container" style="margin-top: 9vh; width: 80%;">

    <div style="display: flex;flex-direction: row;justify-content: space-evenly;">
        <div *ngFor="let event of events">
        <div class="flip-card" style="margin-right: 20px; margin-bottom: 40px;">
            <div class="flip-card-inner">
                <div class="flip-card-front card" style="width: 16rem;">
                  
                    <img src="assets/profile_pic.png" class="card-img-top" alt="..." height="190px"  style="border: 4px solid rgb(78, 7, 78);">
                    <div class="card-body" style="border: 4px solid rgb(78, 7, 78);">
                      <h5 class="card-title">{{event.event_name}}</h5>
                      <p class="card-text">{{event.event_date}}</p>
                    </div>
                  
                </div>
                <div class="flip-card-back card" style="width: 16rem; color: black;">
                    <div class="card-body" style="border: 3px solid rgb(78, 7, 78); background: linear-gradient(rgb(78, 7, 78),rgb(158, 37, 158));
                     color: white">
                      <h5 class="card-title text-warning"><b>{{event.event_name}}</b></h5>
                      <p class="card-text"><b>{{event.event_desc}}</b></p>
                      <p class="card-text"><b>Conducted by - {{event.user_id}}</b></p>
                      <p class="card-text"><b>Organized by - {{event.organized_by}}</b></p>
                      <p class="card-text"><b>{{event.event_date}} - {{event.time}}</b></p>
                      <p class="card-text"><b>{{event.venue}}</b></p>
                    </div>
                  
                </div>
            </div>
        </div>
        </div>
    </div>
  </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable" >
        <div class="modal-content">
          <form #eventForm="ngForm" (ngSubmit)="EventForm(eventForm)">
          <div class="modal-header">
            <h5 class="modal-title" style="color: rgb(78, 7, 78);"><b>Event Request</b></h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            
              <label for="event_name" class="form-label"><b style="color: rgb(78, 7, 78);">Event Name :</b></label>
              <input type="text" id="event_name" name="event_name" ngModel class="form-control" 
                  style="margin-bottom: 10px; border: 2px solid rgb(78, 7, 78);">

              <label for="event_date" class="form-label"><b style="color: rgb(78, 7, 78);">Event Date :</b></label>
              <input type="date" id="event_date" name="event_date" ngModel class="form-control" 
                  style="margin-bottom: 10px; border: 2px solid rgb(78, 7, 78);">

              <label for="event_desc" class="form-label"><b style="color: rgb(78, 7, 78);">Event Description :</b></label>
              <textarea rows="3" id="event_desc" name="event_desc" ngModel class="form-control" 
                  style="margin-bottom: 10px; border: 2px solid rgb(78, 7, 78);"></textarea>

              <label for="img" class="form-label"><b style="color: rgb(78, 7, 78);">Select poster :</b></label>
              <input type="file" id="img" name="img" accept="image/*" class="form-control" 
              style="margin-bottom: 10px; border: 2px solid rgb(78, 7, 78);" (change)="changed($event)">
            

          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-warning">Request</button>
          </div>
        </form>
        </div>
      </div>
</div>
